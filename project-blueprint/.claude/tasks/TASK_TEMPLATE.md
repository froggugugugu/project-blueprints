# TASK テンプレート — 機能開発指示書

> **用途**: 機能（または機能の一部）ごとにこのファイルをコピーし、`TASKXX_<機能名>.md` として保存する
> **参照者**: 開発者・テスター（チームメイトがこのファイルを読んで作業する）
> **注意**: このファイルは「何を作るか」の仕様書です。「誰がどう進めるか」は `.claude/teams/` 配下のチーム定義に記載します。
> **並行モード時**: PJMが `TASK_BUNDLE_<名前>.md` として生成する場合、基本情報に Bundle メタデータが追加されます。

---

## 1. 基本情報

| 項目 | 内容 |
|---|---|
| タスクID | TASKXX |
| 機能名 | <!-- 例: ログインフォーム --> |
| 関連チーム定義 | <!-- 例: TEAM_FEATURE.md --> |
| 対象画面 / URL | <!-- 例: /login --> |
| 優先度 | 高 / 中 / 低 |
| Bundle ID | <!-- 並行実装時のみ。例: BUNDLE_01（PJMが自動設定） --> |
| 元タスク分解 | <!-- 並行実装時のみ。例: output/tasks/PLAN_xxx.md --> |
| 含まれるタスクID | <!-- 並行実装時のみ。例: T3, T4, T5 --> |
| 前提条件 | <!-- 並行実装時のみ。例: 共有レイヤー変更完了 --> |

---

## 2. 機能概要

<!-- この機能が何をするのか、ユーザー視点で簡潔に記述する -->

---

## 3. 対象ファイル・ディレクトリ

<!-- docs/architecture.md のディレクトリ構成に従ってパスを記入する -->

| 種別 | パス | 備考 |
|---|---|---|
| <!-- ページ / コンポーネント / ストア / スキーマ / ユーティリティ / テスト --> | <!-- src/... --> | <!-- 新規作成 / 変更 / 削除 --> |

<!--
記入例（FSDパターンの場合）:
| ページ         | src/features/xxx/pages/XxxPage.tsx           |            |
| コンポーネント | src/features/xxx/components/XxxDialog.tsx     | 新規作成   |
| ストア         | src/stores/xxx-store.ts                      | アクション追加 |
| スキーマ       | src/shared/types/xxx.ts                      | フィールド追加 |
| ユーティリティ | src/shared/utils/xxx-utils.ts                |            |
| テスト         | src/shared/utils/__tests__/xxx-utils.test.ts | 新規作成   |
-->

> **重要**: 上記以外のファイルは変更しないこと。

---

## 4. 機能要件

### 4.1 画面仕様

<!-- 画面の構成要素、レイアウト、状態遷移を記述する -->

### 4.2 バリデーション

| フィールド | ルール | エラーメッセージ |
|---|---|---|
<!-- 例: | 名前 | 必須 / 100文字以内 | 「名前を入力してください」 | -->

### 4.3 データ永続化

| 項目 | 内容 |
|---|---|
| ストア | <!-- 対象ストア名 --> |
| 永続化 | <!-- 方式を記述 --> |
| マイグレーション | <!-- 既存データとの後方互換性 --> |

### 4.4 状態管理

<!-- 状態の持ち方、ストアとの連携を記述する -->

---

## 5. 非機能要件

| 項目 | 要件 |
|---|---|
| アクセシビリティ | <!-- フォームに適切なlabel/aria属性。キーボード操作で完結 --> |
| レスポンシブ | <!-- 対応するビューポート --> |
| パフォーマンス | <!-- 不要な再レンダリング防止、二重クリック防止等 --> |
| エラーハンドリング | <!-- エラー種別ごとのメッセージ表示 --> |

---

## 6. ユニットテスト方針（開発者向け）

開発者は実装と同時に以下のユニットテストを作成すること。

| テスト観点 | 内容 |
|---|---|
<!-- 例: | レンダリング | 各要素が正しく表示されること | -->
<!-- 例: | バリデーション | 不正入力でエラーメッセージが表示されること | -->

使用ライブラリ: <!-- docs/project.md に記載のテストツール -->

---

## 7. E2Eテスト方針（テスター向け）

テスターは以下のE2Eテストを作成すること。

| シナリオ | 期待結果 |
|---|---|
<!-- 例: | 正常操作 | 期待どおりの結果が表示されること | -->
<!-- 例: | エラーケース | エラーメッセージが表示されること | -->

---

## 8. 参考情報

- アーキテクチャ: docs/architecture.md
- データモデル: docs/data-model.md
- 開発パターン: docs/development-patterns.md

---

## 9. 備考

<!-- 既知の制約、注意事項、前提条件などを記載 -->

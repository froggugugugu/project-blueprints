# Project Configuration

> **Project parameter file filled in by humans.**
> Consolidates technology choices, quality standards, policies, and other "decisions that humans should make."
>
> **AI-managed areas (not included in this file):**
> - Routing definitions → AI auto-generates in `docs/project.md`
> - Store list → AI auto-generates in `docs/project.md`
> - Data model/schema → AI auto-generates in `docs/data-model.md`
>
> **AI maintenance:**
> Skills (`/implementing-features`, `/plan`, etc.) update Section 11 (Known Pitfalls)
> and Section 2 (Tech Stack) as needed during design and implementation,
> maintaining consistency with `docs/`.

---

## 1. Project Basics <!-- Required -->

| Field | Value |
| --- | --- |
| Project Name | <!-- Enter project name --> |
| Description | <!-- Enter project description --> |
| Language | en |
| Node.js Requirement | <!-- e.g., 20+ --> |

---

## 2. Tech Stack <!-- Required -->

<!-- Enter the technologies used in the project. AI will append version changes during development. -->

| Category | Technology |
| --- | --- |
| Framework | <!-- e.g., React 19, TypeScript 5.x, Vite 7 --> |
| Styling | <!-- e.g., Tailwind CSS 4, shadcn/ui --> |
| State Management | <!-- e.g., Zustand 5 --> |
| Validation | <!-- e.g., Zod 3.x --> |
| Routing | <!-- e.g., React Router DOM 7 --> |
| Icons | <!-- e.g., lucide-react --> |
| Code Quality | <!-- e.g., Biome 2.x / ESLint 9 --> |
| Dependency Direction Check | <!-- e.g., dependency-cruiser 17 / None --> |
| Git Hooks | <!-- e.g., husky 9, lint-staged 16 / None --> |
| Testing | <!-- e.g., Vitest 4, Playwright 1.x --> |

---

## 3. Commands <!-- Required -->

<!-- Enter the project's development, test, and build commands -->
<!-- Replace `<pm>` with the project's package manager -->

**Package manager reference:**

| Tool | Run Command | Install | Notes |
| --- | --- | --- | --- |
| npm | `npm run` | `npm install` | Node.js standard |
| yarn | `yarn` | `yarn` | yarn can omit `run` |
| pnpm | `pnpm run` | `pnpm install` | Disk-efficient |
| bun | `bun run` | `bun install` | Fast alternative runtime |

```bash
<pm> run dev              # Development server
<pm> run build            # Production build
<pm> run lint             # Lint
<pm> run test             # Test
<pm> run test:run         # Run tests once
<pm> run test:coverage    # Test with coverage
# <pm> run e2e            # E2E tests (if applicable)
# <pm> run depcruise      # Dependency direction check (if applicable)
```

---

## 4. Architecture <!-- Recommended -->

### 4.1 Pattern

<!-- Select a pattern based on your project scale. Use the guide below as reference. -->

**Pattern selection guide:**

| Scale | Team | Recommended Pattern | Characteristics |
| --- | --- | --- | --- |
| MVP / Small | 1-2 people | Simple | Flat structure with low learning curve. Quick to set up |
| Medium | 2-5 people | Modular / Feature-Based | Isolated by feature. Flexible without being as strict as FSD |
| Large / Long-term | 5+ people | FSD (Feature-Sliced Design) | Strict layer constraints. Maintains order in large teams |
| Next.js / Nuxt | --- | Pages-Based | Follows file-system routing conventions |

Selected pattern: <!-- e.g., Simple / Modular / FSD / Pages-Based -->

### 4.2 Path Aliases

<!-- e.g., `@/` → `src/` -->

### 4.3 Directory Structure (Overview)

<!-- Enter the source code directory structure. Details will be generated by AI in docs/architecture.md. -->
<!-- Fill in according to the pattern selected in 4.1. See the collapsible section below for pattern-specific examples. -->

```text
src/
├── <!-- Enter your project's directory structure -->
```

### 4.4 Dependency Direction Rules

<!-- Enter the project's dependency direction rules. Include the detection command. -->
<!-- Fill in according to the pattern selected in 4.1. See the collapsible section below for pattern-specific examples. -->

- <!-- Enter dependency direction rules -->
- Circular dependencies: Prohibited
- Detection command: <!-- e.g., `npx depcruise src --config` / None -->

---

<details>
<summary>Directory structure and dependency direction rule examples by pattern (click to expand)</summary>

#### A. Simple — For MVPs and small projects

Flat layout with `components/hooks/utils`. Migrate to Modular when features grow.

```text
src/
├── main.tsx               # Entry point
├── App.tsx                # Routing definitions
├── components/            # UI components
├── hooks/                 # Custom hooks
├── utils/                 # Utility functions
├── types/                 # Type definitions
├── stores/                # State management
└── test/                  # Test setup
```

Dependency direction rule examples:
- `utils` → `components`: Prohibited (utils should contain pure functions only)
- `stores` → `components`: Prohibited
- Circular dependencies: Prohibited

#### B. Modular / Feature-Based — For medium projects

Self-contained module structure organized by feature. Flexible without being as strict as FSD.

```text
src/
├── main.tsx               # Entry point
├── App.tsx                # Routing definitions
├── features/              # Feature modules (each feature is self-contained)
│   ├── auth/              #   Authentication (components, hooks, utils, types)
│   ├── dashboard/         #   Dashboard
│   └── settings/          #   Settings
├── shared/                # Cross-feature shared code
│   ├── components/        #   Shared UI components
│   ├── hooks/             #   Shared hooks
│   └── utils/             #   Shared utilities
├── stores/                # Global state management
└── test/                  # Test setup
```

Dependency direction rule examples:
- `features/X` → `features/Y` direct dependency: Prohibited (coordinate via shared)
- `shared` → `features`: Prohibited
- `stores` → `features`: Prohibited
- Circular dependencies: Prohibited

#### C. FSD (Feature-Sliced Design) — For large-scale / long-term projects

Strict layer constraints and dependency direction control. Suitable for maintaining order in large teams.

```text
src/
├── main.tsx               # Entry point
├── App.tsx                # Routing definitions
├── features/              # Feature modules
├── shared/                # Shared layer
├── infrastructure/        # Infrastructure layer (API communication / external services)
├── stores/                # State management
├── test/                  # Test setup
└── lib/                   # General-purpose utilities
```

Dependency direction rule examples:
- `features/X` → `features/Y` direct dependency: Prohibited (coordinate via shared)
- `shared` → `features`: Prohibited
- `infrastructure` → `features`: Prohibited
- `stores` → `features`: Prohibited
- Circular dependencies: Prohibited
- Detection command: `npx depcruise src --config`

#### D. Pages-Based — For Next.js App Router / Nuxt

File-system-based routing structure. Follows framework conventions.

```text
src/  # or app/ (Next.js App Router)
├── app/                   # Routing (App Router)
│   ├── layout.tsx         #   Root layout
│   ├── page.tsx           #   Top page
│   ├── dashboard/         #   /dashboard
│   └── settings/          #   /settings
├── components/            # UI components
├── hooks/                 # Custom hooks (use-client)
├── lib/                   # Utilities / API functions
├── stores/                # Client state management
└── types/                 # Type definitions
```

Dependency direction rule examples:
- Server Components → Client Components: Allowed (reverse is prohibited)
- `lib` → `components`: Prohibited
- `stores` → `components`: Prohibited
- Circular dependencies: Prohibited

</details>

---

## 5. Data Persistence <!-- Optional -->

| Field | Value |
| --- | --- |
| Strategy | <!-- e.g., localStorage / IndexedDB / REST API --> |
| Storage Key | <!-- e.g., `app-data` (business data) --> |
| Migration Policy | <!-- e.g., optional + default values for backward compatibility --> |

---

## 6. Quality Standards <!-- Required -->

| Field | Value |
| --- | --- |
| Test Coverage Target | <!-- e.g., 80% --> |
| TDD | <!-- yes / no --> |
| Quality Gates | <!-- yes / no --> |
| Tool Output Directory | `testreport/` |
| Summary Output Directory | `output/reports/` |

### 6.1 Report Output Structure

Reports are separated into two directories by purpose:

- `testreport/` --- Raw data generated by tools (HTML/JSON/LCOV, etc.). Add to `.gitignore`
- `output/reports/` --- Markdown summaries for human review. Managed in Git

```text
testreport/                    <- Direct tool output (.gitignore target)
├── coverage/              # Unit test coverage (HTML/LCOV)
├── e2e/                   # Playwright E2E test reports and traces
└── security/              # Security scan reports (JSON/HTML)

output/reports/                <- Human-readable summaries (Git-managed)
├── review/                # Code review results
├── test/                  # Test result summaries
├── security/              # Security scan summaries
└── legal/                 # Legal check results
```

---

## 7. Design System <!-- Recommended -->

| Field | Value |
| --- | --- |
| Reference Design System | <!-- URL or "None" --> |
| UI Component Library | <!-- e.g., shadcn/ui (Radix UI) --> |
| Icon Library | <!-- e.g., Lucide Icons --> |
| Accessibility Standard | <!-- e.g., WCAG 2.1 AA --> |
| Color Token Definition File | <!-- e.g., src/index.css --> |

---

## 8. E2E Testing Environment <!-- Optional -->

| Field | Value |
| --- | --- |
| Browser | <!-- e.g., Chromium --> |
| Base URL | <!-- e.g., http://localhost:5173 --> |
| Test File Location | <!-- e.g., e2e/ --> |
| Test Data Injection Method | <!-- e.g., Direct localStorage injection --> |

---

## 9. Git Policy <!-- Optional -->

| Field | Value |
| --- | --- |
| pre-commit | <!-- e.g., lint-staged (Biome check) --> |
| pre-push | <!-- e.g., lint + type check + test --> |
| `--no-verify` | Prohibited |
| `--force` | Prohibited in principle |

---

## 10. Security Policy <!-- Optional -->

<!-- Enter the project's security policy -->

- All user input must be validated
- Dependency vulnerabilities should be checked regularly
- <!-- Add other project-specific policies -->

---

## 11. Project-Specific Notes <!-- Recommended -->

> This section is updated by AI as issues are discovered during development.
> Humans may also enter initial values.

### Known Pitfalls

<!-- AI appends issues and notes discovered during development. Enter any known issues as initial values. -->

| Issue | Cause | Mitigation |
| --- | --- | --- |
| <!-- Issue summary --> | <!-- Root cause --> | <!-- Mitigation --> |

### Framework-Specific Patterns

<!-- Enter notes specific to the frameworks/libraries in use. AI will also append entries. -->

---

## 12. Claude Code Plugin Settings <!-- Optional -->

<!-- Enter the plugins to use. Remove any that are not needed. -->

| Plugin | Enabled | Purpose |
| --- | --- | --- |
| context7 | yes | Library documentation reference |
| playwright | yes | E2E test execution and debugging |
| draw.io | yes | Architecture diagrams and flow charts |
| pr-review-toolkit | yes | GitHub PR integration |
| sentry | no | Production error investigation (enable as needed) |
